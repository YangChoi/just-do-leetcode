# 스택과 큐

### 스택과 큐?
차례차례 계속 쌓이는 작업을 어떤 순서로 처리할 지 표현하는 자료구조
=> 각각 push, pop, isEmpty 와 같은 쿼리를 지원

||stack|queue|
|---|------|------|
|pop|요소 중 마지막에 push 한 요소를 pop | 요소 중 가장 먼저 push한 요소를 pop (=dequeue) |
|push| | (=enqueue) |



### 스택(Stack)
책 쌓기
책을 위로 하나씩 쌓는 모양새
= LIFO(Last In First Out)

#### 스택을 사용하는 예시 
- 웹 브라우저 방문이력(돌아가기 버튼이 pop에 대응)
- 텍스트 에디터 되돌리기(undo) 기능


### 큐(Queue) 
음식점 줄서기 
가장 먼저 온 손님에게 가장 먼저 주문을 받고 음식을 제공

= FIFO(First In First Out)

#### 큐를 사용하는 예시
- 항공권 예약 대기표 처리
- 인쇄기 작업 스케쥴링


____


### 스택과 큐 동작 구현
스택과 큐는 배열로 구현함
C++ 표준 라이브러리에 있음
```C++
std::stack
std::gueue
```


#### 스택 예시
- stack push 

[3, 7, 5, 4]        <- 2를 push
 0  1  2  3  top=4

[3, 7, 5, 4, 2]
 0  1  2  3  4 top=5

- stack pop

[3, 7, 5, 4 ,2] 
 0  1  2  3  4  top=5

[3, 7, 5, 4]     -> 2를 pop
 0  1  2  3  top=4


##### top?
  - stack 구현 시 스택 마지막에 삽입된 요소의 그 다음 인덱스를 가리키는 변수
    (다음에 새로운 요소를 push할 때 저장에 사용할 인덱스)
  - top은 곧 스택에 저장된 요소 갯수를 의미한다. 
  - push 시에 top은 증가하고 top 위치에 새로운 요소가 삽입된다.
  - pop 시에 top은 감소하고 top 위치에 있던 요소를 출력시킨다. 


___

### 큐 예시
- 큐 enqueue(push)

___________________
  3, 7, 5, 4 (tail)    <- 2 enqueue
(head)
___________________

___________________
  3, 7, 5, 4, 2, (tail)    
(head)
___________________


- 큐 dequeue(pop)

              ___________________
                7, 5, 4, 2 (tail)    
<- 3 dequeue  (head)
              ___________________


- 큐는 최초 삽입 요소 인덱스를 나타내는 변수 head,
- 최후에 삽입한 요소의 다음 인덱스를 나타내는 변수 tail 을 통해 구현한다 


<strong>그런데 여기서 문제가 발생한다!</strong>

enqueue, dequeue가 반복적으로 일어나면 tail, head 가 계속 오른쪽으로 진행되며 오른쪽으로 이동한다. 
그렇게 되면 쓸데없이 큰 사이즈의 배열을 필요로 하게된다. 

이 문제를 해결하기 위해 <strong>링버퍼(ring buffer)</strong>를 사용한다. 


### 링버퍼(ring buffer)
- 크기가 N인 링버퍼에서 인덱스 tail 또는 head는 0, 1, ..., N-1 범위에서 움직인다. 
- tail = N-1 상태에서 tail이 증가하게 되면 tail = N이 되는 것이 아닌 tail = 0이 된다. 
- 이는 head도 마찬가지이다.
- 뱅글뱅글 도는 것이죠